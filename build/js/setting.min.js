+function(a){"use strict";var t=new Vue({el:"#nm-private-list",data:{items:[]},methods:{greet:function(e){var i=a(e.target),s=i.data("id"),d="id="+s+"&action=nm_delete";a.ajax({url:nm_ajax_url.ajax_url,type:"POST",dataType:"json",data:d,success:function(a){if(500==a.status)alert(a.message);else for(var e=0;e<t.items.length;e++)if(t.items[e].id==s)return t.items.splice(e,1)}})}}});a.ajax({url:nm_ajax_url.ajax_url+"?action=nm_get",type:"GET",dataType:"json",success:function(e){var i=[];a.map(e.data,function(a,t){i.push(a)});t.items=i}});var e=a("#nm-form");e.on("submit",function(e){e.preventDefault();var i=a(".nm-form-textInput"),s=i.val(),d=a(".loading-info"),l=a(".nm-form-submit");if(s.match(/album\?id=(\d+)/gi)){s=s.match(/album\?id=(\d+)/gi);var n=s[0].replace(/album\?id=/g,""),r="id="+n+"&action=nm_add&type=album"}else{if(!s.match(/playlist\?id=(\d+)/gi))return alert("输出正确的地址");s=s.match(/playlist\?id=(\d+)/gi);var n=s[0].replace(/playlist\?id=/g,""),r="id="+n+"&action=nm_add&type=playlist"}l.attr("disabled",!0),d.removeClass("hide"),a.ajax({url:nm_ajax_url.ajax_url,type:"POST",dataType:"json",data:r,success:function(a){500==a.status?(i.val(""),d.addClass("hide"),l.attr("disabled",!1),alert(a.message)):(t.items.push(a.data),i.val(""),d.addClass("hide"),l.attr("disabled",!1))}})})}(jQuery);